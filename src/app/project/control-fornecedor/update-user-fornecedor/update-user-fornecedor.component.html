<div class="container-fluid">
    <div class="row mt-5">
        <div class="col-md-12">
            <h1>Editar usuário</h1>
            <hr class="bg-primary">
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 col-lg-10 col-xl-6">
            <section>
                <form class="mr-5" [formGroup]="form" (ngSubmit)="onSubmit()">

                    <div class="mt-3">
                        <label for="type"
                            class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>Tipo</b></label>
                        <input type="text" formControlName="type" readonly style="text-indent:20px;"
                            class="form-control" id="type">
                    </div>

                    <div class="mt-3">
                        <label for="name"
                            class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>Nome</b></label>
                        <input type="text" formControlName="name" style="text-indent:20px;" class="form-control"
                            id="name" placeholder="Nome">

                        <div *ngIf="form.controls['name'].errors?.['required'] && isSubmit" class="div-msg-error mt-2">
                            <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                            <p class="font-poppins font-size-14 m-0">Nome é obrigatório!</p>
                        </div>
                        <div *ngIf="form.controls['name'].errors?.['maxlength'] && isSubmit" class="div-msg-error mt-2">
                            <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                            <p class="font-poppins font-size-14 m-0">Nome deve conter no máximo 50 caracteres!</p>
                        </div>
                    </div>

                    <div class="mt-3">
                        <label for="email"
                            class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>E-mail</b></label>
                        <input type="text" formControlName="email" style="text-indent:20px;" class="form-control email"
                            id="email" placeholder="email@email.com">

                        <div *ngIf="form.controls['email'].errors?.['required'] && isSubmit" class="div-msg-error mt-2">
                            <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                            <p class="font-poppins font-size-14 m-0">Email é obrigatório!</p>
                        </div>
                        <div *ngIf="form.controls['email'].errors?.['email'] && isSubmit" class="div-msg-error mt-2">
                            <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                            <p class="font-poppins font-size-14 m-0">Email inválido!</p>
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-sm-12 col-md-6 mt-3">
                            <label for="phone"
                                class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>Telefone</b></label>
                            <input type="text" formControlName="phone" style="text-indent:20px;" class="form-control"
                                mask="(00)0000-0000||(00) 0 0000-0000" id="phone" placeholder="(00)00000-0000">

                            <div *ngIf="form.controls['phone'].errors?.['required'] && isSubmit"
                                class="div-msg-error mt-2">
                                <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                                <p class="font-poppins font-size-14 m-0">Telefone é obrigatório!</p>
                            </div>
                            <div *ngIf="form.controls['phone'].errors?.['minlength'] && isSubmit"
                                class="div-msg-error mt-2">
                                <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                                <p class="font-poppins font-size-14 m-0">Telefone inválido!</p>
                            </div>
                        </div>

                        <div class="col-sm-12 col-md-6 mt-3">
                            <label for="document"
                                class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>CPF/CNPJ</b></label>
                            <input type="text" formControlName="document" style="text-indent:20px;" class="form-control"
                                mask="000.000.000-00||00.000.000/0000-00" id="document" placeholder="000.000.000-00">

                            <div *ngIf="form.controls['document'].errors?.['required'] && isSubmit"
                                class="div-msg-error mt-2">
                                <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                                <p class="font-poppins font-size-14 m-0">CPF/CNPJ é obrigatório!</p>
                            </div>
                            <div *ngIf="!form.controls['document'].errors?.['required'] && (form.controls['document'].value?.length !== 11 && form.controls['document'].value?.length !== 14) && isSubmit"
                                class="div-msg-error mt-2">
                                <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                                <p class="font-poppins font-size-14 m-0">CPF/CNPJ inválido!</p>
                            </div>
                        </div>

                    </div>

                    <div class="mt-3">
                        <label for="supplier"
                            class="font-archivo font-size-16 font-weight-medium text-secondary m-0"><b>Fornecedor</b></label>
                        <ng-select formControlName="supplier" [items]="supplierList"
                            notFoundText="Nenhum fornecedor encontrado" bindValue="name" bindLabel="name"
                            placeholder="Selecione..." [closeOnSelect]="true"></ng-select>

                        <div *ngIf="form.controls['supplier'].errors?.['required'] && isSubmit"
                            class="div-msg-error mt-2">
                            <img src="../../../assets/images/icon-alert.svg" class="img-msg-error" alt="">
                            <p class="font-poppins font-size-14 m-0">Fornecedor é obrigatório!</p>
                        </div>
                    </div>


                    <div class="mt-4">
                        <div class="row">
                            <div class="col-md-6">
                                <button type="button" class="bg-light btn-lg btn-block mb-4"
                                    [routerLink]="['/controle-fornecedor']">Cancelar</button>
                            </div>
                            <div class="col-md-6">
                                <button type="submit" class="btn btn-secondary btn-lg btn-block mb-4">Salvar</button>
                            </div>
                        </div>
                    </div>

                </form>
            </section>
        </div>
    </div>

</div>