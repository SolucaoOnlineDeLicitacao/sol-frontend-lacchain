<div class="container">
  <div class="row mt-5">
    <div class="col-md-12">
      <h1 class="text-dark"><strong>Editar Convênio</strong></h1>
      <hr class="bg-primary">
    </div>
  </div>
  <div class="col-md-9">
    <form [formGroup]="form" class="row" (ngSubmit)="onSubmit()">
      <div class="col-md-2">
        <label class="text-dark" for="number"><strong>Número</strong></label>
        <input type="tel" class="form-control br-10 py-4" formControlName="number" id="number" readonly placeholder="não pode editar o número">
      </div>
      <div class="col-md-10">
        <label class="text-dark" for="object"><strong>Objeto</strong></label>
        <input type="text" [maxlength]="50" class="form-control br-10 py-4"
          formControlName="object" id="object" placeholder="Edite seu objeto">
      </div>
      <div class="col-md-2 mt-4">
        <label for="municipio"><strong>Estado</strong></label>
        <select (change)="getCity(states.value)" formControlName="state" #states
          class="form-control br-10 h50">
          <option [disabled]="true" [value]="localStorage.getEditConvenio().states" [selected]="true">{{localStorage.getEditConvenio().states}}</option>
          <option *ngFor="let estados of statesList" [value]="estados">{{estados}}</option>
        </select>
      </div>
      <div class="col-md-5 mt-4">
        <label for="municipio"><strong>Município de execução do convênio</strong></label>
        <select formControlName="city" class="form-control br-10 h50"
          id="municipio">
          <option [disabled]="true" [value]="localStorage.getEditConvenio().city" [selected]="true">{{localStorage.getEditConvenio().city}}</option>
          <option *ngFor="let cidades of citiesList" [value]="cidades">{{cidades}}</option>
        </select>
      </div>
      <div class="col-md-5 mt-4">
        <label class="text-dark" for="value"><strong>Valor do Convênio (R$)</strong></label>
        <input type="tel" formControlName="price" class="form-control br-10
          py-4" id="value"  separatorLimit="100000000" prefix="R$" mask="0000" mask="separator.2" thousandSeparator=","  placeholder="Edite o valor">
      </div>
      <div class="col-md-4 mt-4">
        <label class="text-dark" for="datesub"><strong>Data da assinatura</strong></label>
        <input type="text" mask="00/00/0000" formControlName="datesub"
          class="form-control br-10 py-4" id="datesub" placeholder="Edite a data">
      </div>
      <div class="col-md-4 mt-4">
        <label class="text-dark" for="datemat"><strong>Data de vigência</strong></label>
        <input type="text" mask="00/00/0000" formControlName="datemat"
          class="form-control br-10 py-4" id="datemat" placeholder="Edite a data">
      </div>
      <div class="col-md-4 mt-4">
        <label class="text-dark text-capitalize" for="situation"><strong>Situação</strong></label>
          <select  formControlName="situation" #situation class="form-control br-10 h50" id="situation">
            <option [selected]="localStorage.getEditConvenio().status === 'Aberta'" value="Aberta" class="f-size-16 text-primary">Aberta</option>
            <option [selected]="localStorage.getEditConvenio().status === 'Cancelada'" value="Cancelada" class="f-size-16 text-danger">Cancelada</option>
            <option [selected]="localStorage.getEditConvenio().status === 'Deserta'" value="Deserta" class="f-size-16 text-danger">Deserta</option>
            <option [selected]="localStorage.getEditConvenio().status === 'Concluída'" value="Concluída" class="f-size-16 text-success">Concluída</option>
            <option [selected]="localStorage.getEditConvenio().status === 'Em Rascunho'" value="Em Rascunho" class="f-size-16 text-dark">Em Rascunho</option>
            <option [selected]="localStorage.getEditConvenio().status === 'Aguardando Liberação'" value="Aguardando Liberação" class="f-size-16" style="color:#F1CF1C">Aguardando Liberação</option> 
            <option [selected]="localStorage.getEditConvenio().status === 'Em Análise'" value="Em Análise" class="f-size-16 text-warning">Em Análise</option>
          </select>
        </div>
      <div class="col-md-12 mt-4">
        <label class="text-dark" for="association"><strong>Associação</strong></label>
        <select  formControlName="association" class="form-control br-10 h50" id="association">
          <option [selected]="true" [disabled]="true" [value]="localStorage.getEditConvenio().associate_name">{{localStorage.getEditConvenio().associate_name}}</option>
          <option *ngFor="let item of associationList" [value]="item.name">{{item.name}}</option>
        </select>
      </div>
      <div class="col-md-12 mt-4">
        <label class="text-dark" for="review"><strong>Revisor ({{localStorage.getEditConvenio().reviewer}})</strong></label>
        <select formControlName="review" class="form-control br-10 h50" id="review">
          <option [selected]="true" [disabled]="true" [value]="localStorage.getEditConvenio().reviewer">{{localStorage.getEditConvenio().reviewer}}</option>
          <option *ngFor="let item of userList" [value]="item.name">{{item.name}}</option>
        </select>
      </div>
      <div class="col-12 mb-5">
        <div class="row d-flex justify-content-end">
          <div class="col-md-4 mt-4 ">
            <button (click)="backConvenio()" type="button" class="btn btn-light br-10 w-100 color-patter h50">
              <strong>Cancelar</strong>
            </button>
          </div>
          <div class="col-md-4 mt-4 ">
            <button type="submit" class="btn bg-pattern text-light br-10 w-100 h50">
              <strong>Salvar</strong>
            </button>
            <span *ngIf="inputclear" class="text-danger">Nenhum campo pode ficar vazio!</span>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
